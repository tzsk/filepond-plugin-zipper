function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("jszip"));class r extends File{}const n={};module.exports=e=>({addFilter:o})=>(o("ADD_ITEMS",function(o){try{const i=(e=>((e=>{e.filter(e=>e._relativePath).forEach(e=>{const[,t]=e._relativePath.split("/");n[t]||(n[t]=[]),n[t].push(e)})})(e),Object.keys(n).map(e=>{const o=new t.default;return n[e].forEach(e=>{o.file(e._relativePath,e)}),delete n[e],function(t){try{return Promise.resolve(o.generateAsync({type:"blob"},t)).then(function(t){return new r([t],`${e}.zip`)})}catch(e){return Promise.reject(e)}}})))(o),a=o.filter(e=>!e._relativePath);return e?(e(i),Promise.resolve(a)):Promise.resolve(Promise.all(i.map(e=>e()))).then(function(e){return a.concat(e)})}catch(e){return Promise.reject(e)}}),{options:{}});
//# sourceMappingURL=zipper.js.map
