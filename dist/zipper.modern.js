import t from"jszip";class e extends File{}const a={};export default r=>({addFilter:n})=>(n("ADD_ITEMS",async n=>{const i=(r=>((t=>{t.filter(t=>t._relativePath).forEach(t=>{const[,e]=t._relativePath.split("/");a[e]||(a[e]=[]),a[e].push(t)})})(r),Object.keys(a).map(r=>{const n=new t;return a[r].forEach(t=>{n.file(t._relativePath,t)}),delete a[r],async t=>{const a=await n.generateAsync({type:"blob"},t);return new e([a],`${r}.zip`)}})))(n),s=n.filter(t=>!t._relativePath);if(r)return r(i),s;const l=await Promise.all(i.map(t=>t()));return s.concat(l)}),{options:{}});
//# sourceMappingURL=zipper.modern.js.map
